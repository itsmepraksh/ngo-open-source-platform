<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle"></title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            scroll-behavior: smooth;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Navigation */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            padding: 1rem 0;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #e74c3c;
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: #e74c3c;
        }

        .mobile-menu {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #2c3e50;
        }

        /* Mobile navigation dropdown styles */
        .nav-links.mobile-active {
            display: flex !important;
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            flex-direction: column;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 0 0 10px 10px;
            padding: 1rem 0;
            z-index: 1000;
        }
        
        .nav-links.mobile-active li {
            margin: 0;
        }
        
        .nav-links.mobile-active a {
            display: block;
            padding: 1rem 2rem;
            color: #2c3e50;
            border-bottom: 1px solid #f8f9fa;
        }
        
        .nav-links.mobile-active a:hover {
            background: #f8f9fa;
        }

        /* Hero Section */
        .hero {
            height: 100vh;
            background: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)),
                        url('Flux_Dev_A_warm_emotionally_uplifting_scene_showing_a_group_of_3.jpg');
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            color: white;
            text-align: center;
        }

        .hero-content h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            animation: fadeInUp 1s ease;
        }

        .hero-content p {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            animation: fadeInUp 1s ease 0.3s both;
        }

        .cta-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            animation: fadeInUp 1s ease 0.6s both;
        }

        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .btn-primary {
            background: #e74c3c;
            color: white;
        }

        .btn-secondary {
            background: transparent;
            color: white;
            border: 2px solid white;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }

        /* Section Styles */
        .section {
            padding: 5rem 0;
        }

        .section:nth-child(even) {
            background: #f8f9fa;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            color: #2c3e50;
        }

        /* About Section */
        .about-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
            margin-bottom: 3rem;
        }

        .about-text h3 {
            color: #e74c3c;
            margin-bottom: 1rem;
            font-size: 1.8rem;
        }

        .about-text p {
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
            line-height: 1.8;
        }

        .founder-image {
            width: 100%;
            height: 400px;
            background: url('https://images.unsplash.com/photo-1542810634-71277d95dcbb?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80');
            background-size: cover;
            background-position: center;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        .timeline {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
            flex-wrap: wrap;
        }

        .timeline-item {
            text-align: center;
            flex: 1;
            min-width: 200px;
            margin-bottom: 2rem;
        }

        .timeline-year {
            font-size: 2rem;
            font-weight: bold;
            color: #e74c3c;
            margin-bottom: 0.5rem;
        }

        /* Projects Section */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
        }

        .project-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .project-card:hover {
            transform: translateY(-10px);
        }

        .project-image {
            height: 200px;
            background-size: cover;
            background-position: center;
        }

        .project-content {
            padding: 1.5rem;
        }

        .project-content h3 {
            color: #2c3e50;
            margin-bottom: 1rem;
            font-size: 1.4rem;
        }

        /* Events Section */
        .events-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .event-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .event-image {
            height: 200px;
            background-size: cover;
            background-position: center;
        }

        .event-content {
            padding: 1.5rem;
        }

        .event-date {
            color: #e74c3c;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        /* Volunteer Section */
        .volunteer-form {
            background: white;
            padding: 3rem;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            max-width: 1000px;
            margin: 0 auto;
        }

        /* Volunteer form grid layout for wider screens */
        .volunteer-form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .volunteer-form-grid .form-group-full {
            grid-column: 1 / -1;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #2c3e50;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 1rem;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #e74c3c;
        }

        /* Donate Section */
        .donate-options {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .donate-btn {
            padding: 1rem 2rem;
            background: #27ae60;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .donate-btn:hover {
            background: #219a52;
            transform: translateY(-2px);
        }

        .custom-amount {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
        }

        .custom-amount input {
            padding: 1rem;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 1rem;
            width: 200px;
        }

        /* Contact Section */
        .contact-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
        }

        .contact-info {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .contact-item {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .contact-item i {
            font-size: 1.5rem;
            color: #e74c3c;
            margin-right: 1rem;
            width: 30px;
        }

        .map-container {
            height: 300px;
            border-radius: 15px;
            overflow: hidden;
        }

        /* Shop Section */
        .shop-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .product-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .product-card:hover {
            transform: translateY(-5px);
        }

        .product-image {
            height: 200px;
            background-size: cover;
            background-position: center;
        }

        .product-content {
            padding: 1.5rem;
            text-align: center;
        }

        .product-price {
            color: #e74c3c;
            font-size: 1.2rem;
            font-weight: bold;
            margin: 0.5rem 0;
        }

        /* Footer */
        .footer {
            background: #2c3e50;
            color: white;
            padding: 3rem 0 1rem;
            text-align: center;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .social-links a {
            display: inline-block;
            width: 50px;
            height: 50px;
            background: #e74c3c;
            color: white;
            text-decoration: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: transform 0.3s ease;
        }

        .social-links a:hover {
            transform: translateY(-3px);
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(60px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInLeft {
            from {
                opacity: 0;
                transform: translateX(-60px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeInRight {
            from {
                opacity: 0;
                transform: translateX(60px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes slideInFromBottom {
            from {
                opacity: 0;
                transform: translateY(100px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            opacity: 0;
            transform: translateY(60px);
            transition: all 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .fade-in-left {
            opacity: 0;
            transform: translateX(-60px);
            transition: all 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .fade-in-right {
            opacity: 0;
            transform: translateX(60px);
            transition: all 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .scale-in {
            opacity: 0;
            transform: scale(0.8);
            transition: all 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .slide-in-bottom {
            opacity: 0;
            transform: translateY(100px);
            transition: all 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .fade-in.visible,
        .fade-in-left.visible,
        .fade-in-right.visible,
        .scale-in.visible,
        .slide-in-bottom.visible {
            opacity: 1;
            transform: translateY(0) translateX(0) scale(1);
        }

        /* Fallback for dynamically created content */
        .project-card.visible,
        .event-card.visible,
        .product-card.visible {
            opacity: 1 !important;
            transform: translateY(0) scale(1) !important;
        }

        /* Parallax effect for hero section */
        .hero {
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)),
                        url('Flux_Dev_A_warm_emotionally_uplifting_scene_showing_a_group_of_3.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            z-index: -1;
        }

        /* Smooth transitions for interactive elements */
        .project-card,
        .event-card,
        .product-card {
            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .project-card:hover,
        .event-card:hover,
        .product-card:hover {
            transform: translateY(-15px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        /* Staggered animation delays */
        .stagger-1 { transition-delay: 0.1s; }
        .stagger-2 { transition-delay: 0.2s; }
        .stagger-3 { transition-delay: 0.3s; }
        .stagger-4 { transition-delay: 0.4s; }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .mobile-menu {
                display: block;
            }

            .hero-content h1 {
                font-size: 2.5rem;
            }

            .about-grid,
            .contact-grid {
                grid-template-columns: 1fr;
            }

            .timeline {
                flex-direction: column;
                align-items: center;
            }

            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }

            .donate-options {
                flex-direction: column;
                align-items: center;
            }
            
            /* Additional mobile improvements */
            .container {
                padding: 0 1rem;
            }
            
            .section {
                padding: 3rem 0;
            }
            
            .volunteer-form,
            .contact-info,
            #contactForm {
                padding: 1.5rem;
            }
            
            /* Make volunteer form single column on mobile */
            .volunteer-form-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .form-group input,
            .form-group select,
            .form-group textarea {
                padding: 0.8rem;
            }
            
            .btn {
                padding: 0.8rem 1.5rem;
                font-size: 0.9rem;
            }
        }

        /* Tablet-specific styles */
        @media (max-width: 1024px) and (min-width: 769px) {
            .about-grid,
            .contact-grid {
                gap: 2rem;
            }
            
            .timeline {
                flex-wrap: wrap;
                justify-content: center;
            }
        }

        /* Small mobile devices */
        @media (max-width: 480px) {
            .hero-content h1 {
                font-size: 2rem;
            }
            
            .hero-content p {
                font-size: 1rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .project-card,
            .event-card,
            .product-card {
                margin-bottom: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="#home" class="logo" id="logoText">Lavanya Foundation</a>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#projects">Projects</a></li>
                <li><a href="#events">Events</a></li>
                <li><a href="#volunteer">Volunteer</a></li>
                <li><a href="#donate">Donate</a></li>
                <li><a href="#contact">Contact</a></li>
                <li><a href="#shop">Shop</a></li>
            </ul>
            <button class="mobile-menu">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Home Section -->
    <section id="home" class="hero">
        <div class="container">
            <div class="hero-content">
                <h1 id="heroTitle">Transforming Lives Together</h1>
                <p id="heroSubtitle">Join Lavanya Foundation in creating a better world through compassion, action, and unity</p>
                <div class="cta-buttons">
                    <a href="#volunteer" class="btn btn-primary">Volunteer With Us</a>
                    <a href="#donate" class="btn btn-secondary">Donate Now</a>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="section">
        <div class="container">
            <h2 class="section-title">About Us</h2>
            <div class="about-grid">
                <div class="about-text fade-in-left">
                    <h3 id="missionTitle">Our Mission</h3>
                    <p id="missionText">At Lavanya Foundation, we believe in the power of collective action to create meaningful change. Our mission is to address critical social issues through innovative programs that focus on food security, environmental sustainability, and community empowerment.</p>
                    
                    <h3 id="visionTitle">Our Vision</h3>
                    <p id="visionText">We envision a world where every individual has access to basic necessities, where communities thrive in harmony with nature, and where compassion drives positive transformation for generations to come.</p>
                </div>
                <div class="founder-image fade-in-right" id="aboutImage"></div>
            </div>
            
            <div class="timeline">
                <div class="timeline-item slide-in-bottom stagger-1">
                    <div class="timeline-year">2020</div>
                    <p>Foundation Established</p>
                </div>
                <div class="timeline-item slide-in-bottom stagger-2">
                    <div class="timeline-year">2021</div>
                    <p>First Community Kitchen</p>
                </div>
                <div class="timeline-item slide-in-bottom stagger-3">
                    <div class="timeline-year">2022</div>
                    <p>Environmental Initiatives</p>
                </div>
                <div class="timeline-item slide-in-bottom stagger-4">
                    <div class="timeline-year">2023</div>
                    <p>1000+ Lives Impacted</p>
                </div>
                <div class="timeline-item slide-in-bottom stagger-4">
                    <div class="timeline-year">2024</div>
                    <p>Expansion Across Cities</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="section">
        <div class="container">
            <h2 class="section-title">Our Key Initiatives</h2>
            <div class="projects-grid" id="projectsContainer">
                <!-- Projects will be loaded dynamically from Firebase -->
            </div>
        </div>
    </section>

    <!-- Events Section -->
    <section id="events" class="section">
        <div class="container">
            <h2 class="section-title">Events & Activities</h2>
            <div class="events-grid" id="eventsContainer">
                <!-- Events will be loaded dynamically from Firebase -->
            </div>
        </div>
    </section>
    

    <!-- Volunteer Section -->
    <section id="volunteer" class="section">
        <div class="container">
            <h2 class="section-title">Volunteer With Us</h2>
            <div class="volunteer-form fade-in">
                <h3 style="text-align: center; margin-bottom: 2rem; color: #2c3e50;">Join Our Movement</h3>
                <form id="volunteerForm">
                    <div class="volunteer-form-grid">
                        <div class="form-group">
                            <label for="name">Full Name</label>
                            <input type="text" id="name" name="name" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" name="phone" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="interest">Area of Interest</label>
                            <select id="interest" name="interest" required>
                                <option value="">Select an area</option>
                                <option value="food-distribution">Food Distribution</option>
                                <option value="environmental">Environmental Initiatives</option>
                                <option value="education">Education & Awareness</option>
                                <option value="fundraising">Fundraising</option>
                                <option value="admin">Administrative Support</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="availability">Availability</label>
                            <select id="availability" name="availability" required>
                                <option value="">Select availability</option>
                                <option value="weekends">Weekends Only</option>
                                <option value="weekdays">Weekdays</option>
                                <option value="flexible">Flexible</option>
                                <option value="events-only">Events Only</option>
                            </select>
                        </div>
                        
                        <div class="form-group form-group-full">
                            <label for="message">Tell us about yourself</label>
                            <textarea id="message" name="message" rows="4" placeholder="Share your motivation, skills, or any questions you have..."></textarea>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 1rem;">Submit Application</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Donate Section -->
    <section id="donate" class="section">
        <div class="container">
            <h2 class="section-title">Support Our Cause</h2>
            <div class="fade-in" style="text-align: center; margin-bottom: 3rem;">
                <p style="font-size: 1.2rem; margin-bottom: 2rem;">Your contribution helps us continue our mission of creating positive change in communities.</p>
                
                <div class="donate-options">
                    <button class="donate-btn" onclick="donate(100)">₹100</button>
                    <button class="donate-btn" onclick="donate(500)">₹500</button>
                    <button class="donate-btn" onclick="donate(1000)">₹1000</button>
                    <button class="donate-btn" onclick="donate(2500)">₹2500</button>
                </div>
                
                <div class="custom-amount">
                    <input type="number" id="customAmount" placeholder="Enter custom amount" min="1">
                    <button class="btn btn-primary" onclick="donateCustom()">Donate Custom Amount</button>
                </div>
                
                <div style="margin-top: 2rem; padding: 1.5rem; background: #f8f9fa; border-radius: 10px; max-width: 600px; margin-left: auto; margin-right: auto;">
                    <h4 style="color: #2c3e50; margin-bottom: 1rem;">Your Impact</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; text-align: center;">
                        <div>
                            <strong style="color: #e74c3c;">₹100</strong><br>
                            <small>Feeds 5 people</small>
                        </div>
                        <div>
                            <strong style="color: #e74c3c;">₹500</strong><br>
                            <small>Plants 10 trees</small>
                        </div>
                        <div>
                            <strong style="color: #e74c3c;">₹1000</strong><br>
                            <small>Provides clothing for a family</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="section">
        <div class="container">
            <h2 class="section-title">Contact Us</h2>
            <div class="contact-grid">
                <div class="contact-info fade-in">
                    <h3 style="margin-bottom: 2rem; color: #2c3e50;">Get in Touch</h3>
                    
                    <div class="contact-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <div>
                            <strong>Address</strong><br>
                            <span id="contactAddress">123 Community Center Road<br>
                            Pune, Maharashtra 411001</span>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <i class="fas fa-phone"></i>
                        <div>
                            <strong>Phone</strong><br>
                            <span id="contactPhone">+91 98765 43210</span>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <i class="fas fa-envelope"></i>
                        <div>
                            <strong>Email</strong><br>
                            <span id="contactEmail">info@lavanyafoundation.org</span>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <i class="fas fa-clock"></i>
                        <div>
                            <strong>Office Hours</strong><br>
                            <span id="contactHours">Monday - Saturday: 9:00 AM - 6:00 PM</span>
                        </div>
                    </div>
                </div>
                
                <div class="fade-in">
                    <form id="contactForm" style="background: white; padding: 2rem; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
                        <h3 style="margin-bottom: 1.5rem; color: #2c3e50;">Send us a Message</h3>
                        
                        <div class="form-group">
                            <label for="contactName">Name</label>
                            <input type="text" id="contactName" name="name" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="contactEmailInput">Email</label>
                            <input type="email" id="contactEmailInput" name="email" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="subject">Subject</label>
                            <input type="text" id="subject" name="subject" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="contactMessage">Message</label>
                            <textarea id="contactMessage" name="message" rows="5" required></textarea>
                        </div>
                        
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Send Message</button>
                    </form>
                </div>
            </div>
            
            <div class="map-container" style="margin-top: 3rem;">
                <iframe 
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d121059.04711156266!2d73.70997!3d18.5204303!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bc2bf2e67461101%3A0x828d43bf9d9ee343!2sPune%2C%20Maharashtra!5e0!3m2!1sen!2sin!4v1629794729807!5m2!1sen!2sin"
                    width="100%" 
                    height="300" 
                    style="border:0; border-radius: 15px;" 
                    allowfullscreen="" 
                    loading="lazy">
                </iframe>
            </div>
        </div>
    </section>

    <!-- Shop Section -->
    <section id="shop" class="section">
        <div class="container">
            <h2 class="section-title">Support Products</h2>
            <p style="text-align: center; margin-bottom: 3rem; font-size: 1.1rem;">Purchase eco-friendly products and support our cause. Every purchase helps fund our community initiatives.</p>
            
            <div class="shop-grid" id="productsContainer">
                <!-- Products will be loaded dynamically from Firebase -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="social-links">
                <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
            </div>
            
            <div style="margin-bottom: 2rem;">
                <h3 style="margin-bottom: 1rem;">Lavanya Foundation</h3>
                <p>Transforming lives through compassion, action, and unity.</p>
            </div>
            
            <div style="border-top: 1px solid #34495e; padding-top: 2rem;">
                <p>&copy; 2024 Lavanya Foundation. All rights reserved. | Designed with ❤️ for humanity</p>
            </div>
        </div>
    </footer>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAGVFxCOL6ULr_UdUP6JSMbRkPADc7HyyM",
            authDomain: "lavanya-foundation-website.firebaseapp.com",
            projectId: "lavanya-foundation-website",
            storageBucket: "lavanya-foundation-website.firebasestorage.app",
            messagingSenderId: "752962971751",
            appId: "1:752962971751:web:c333e532f0e25f0973ccc2"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // Global variables for dynamic content
        let websiteSettings = {};
        let projects = [];
        let events = [];
        let products = [];

        // Load website settings from Firebase
        async function loadWebsiteSettings() {
            try {
                const doc = await db.collection('website').doc('settings').get();
                if (doc.exists) {
                    websiteSettings = doc.data();
                    updateWebsiteContent();
                }
            } catch (error) {
                console.error('Error loading website settings:', error);
            }
        }

        // Update website content with data from Firebase
        function updateWebsiteContent() {
            // Update page title
            if (websiteSettings.general && websiteSettings.general.siteTitle) {
                document.getElementById('pageTitle').textContent = websiteSettings.general.siteTitle;
            }

            // Update logo text
            if (websiteSettings.general && websiteSettings.general.logoText) {
                document.getElementById('logoText').textContent = websiteSettings.general.logoText;
            }

            // Update favicon
            if (websiteSettings.general && websiteSettings.general.faviconUrl) {
                updateFavicon(websiteSettings.general.faviconUrl);
            }

            // Update home section
            if (websiteSettings.home) {
                if (websiteSettings.home.heroTitle) {
                    document.getElementById('heroTitle').textContent = websiteSettings.home.heroTitle;
                }
                if (websiteSettings.home.heroSubtitle) {
                    document.getElementById('heroSubtitle').textContent = websiteSettings.home.heroSubtitle;
                }
                if (websiteSettings.home.heroImage) {
                    document.querySelector('.hero').style.backgroundImage = `linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url('${websiteSettings.home.heroImage}')`;
                }
            }

            // Update about section
            if (websiteSettings.about) {
                if (websiteSettings.about.missionTitle) {
                    document.getElementById('missionTitle').textContent = websiteSettings.about.missionTitle;
                }
                if (websiteSettings.about.missionText) {
                    document.getElementById('missionText').textContent = websiteSettings.about.missionText;
                }
                if (websiteSettings.about.visionTitle) {
                    document.getElementById('visionTitle').textContent = websiteSettings.about.visionTitle;
                }
                if (websiteSettings.about.visionText) {
                    document.getElementById('visionText').textContent = websiteSettings.about.visionText;
                }
                if (websiteSettings.about.aboutImage) {
                    document.getElementById('aboutImage').style.backgroundImage = `url('${websiteSettings.about.aboutImage}')`;
                }
            }

            // Update contact section
            if (websiteSettings.contact) {
                if (websiteSettings.contact.address) {
                    document.getElementById('contactAddress').innerHTML = websiteSettings.contact.address.replace(/\n/g, '<br>');
                }
                if (websiteSettings.contact.phone) {
                    document.getElementById('contactPhone').textContent = websiteSettings.contact.phone;
                }
                if (websiteSettings.contact.email) {
                    document.getElementById('contactEmail').textContent = websiteSettings.contact.email;
                }
                if (websiteSettings.contact.hours) {
                    document.getElementById('contactHours').textContent = websiteSettings.contact.hours;
                }
            }
        }

        // Function to update favicon dynamically
        function updateFavicon(faviconUrl) {
            // Remove existing favicon links
            const existingFavicons = document.querySelectorAll('link[rel*="icon"]');
            existingFavicons.forEach(favicon => favicon.remove());
            
            // Create new favicon link
            const favicon = document.createElement('link');
            favicon.rel = 'icon';
            favicon.type = 'image/x-icon';
            favicon.href = faviconUrl;
            
            // Add to head
            document.head.appendChild(favicon);
            
            // Also add apple-touch-icon for mobile devices
            const appleFavicon = document.createElement('link');
            appleFavicon.rel = 'apple-touch-icon';
            appleFavicon.href = faviconUrl;
            document.head.appendChild(appleFavicon);
        }

        // Load projects from Firebase
        async function loadProjects() {
            try {
                let snapshot;
                try {
                    snapshot = await db.collection('projects').orderBy('order').get();
                } catch (orderError) {
                    // If orderBy fails, try without it
                    try {
                        snapshot = await db.collection('projects').get();
                    } catch (permissionError) {
                        console.error('Permission denied for projects collection. Please check Firebase security rules.');
                        projects = [];
                        displayProjects();
                        return;
                    }
                }
                projects = [];
                snapshot.forEach(doc => {
                    projects.push({ id: doc.id, ...doc.data() });
                });
                displayProjects();
            } catch (error) {
                console.error('Error loading projects:', error);
                projects = [];
                displayProjects();
            }
        }

        // Display projects
        function displayProjects() {
            const container = document.getElementById('projectsContainer');
            if (!container) {
                console.error('projectsContainer element not found!');
                return;
            }
            container.innerHTML = '';

            if (projects.length === 0) {
                // Show default projects if no data from Firebase
                container.innerHTML = `
                    <div class="project-card scale-in stagger-1">
                        <div class="project-image" style="background-image: url('https://images.unsplash.com/photo-1593113598332-cd288d649433?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80')"></div>
                        <div class="project-content">
                            <h3>Four Feeders</h3>
                            <p>Establishing community feeding stations in urban areas to ensure no one sleeps hungry. We provide nutritious meals to the homeless and underprivileged communities daily.</p>
                        </div>
                    </div>
                    
                    <div class="project-card scale-in stagger-2">
                        <div class="project-image" style="background-image: url('https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80')"></div>
                        <div class="project-content">
                            <h3>Food for All</h3>
                            <p>A comprehensive food distribution program that partners with local restaurants and donors to redistribute surplus food to those in need, reducing waste while fighting hunger.</p>
                        </div>
                    </div>
                    
                    <div class="project-card scale-in stagger-3">
                        <div class="project-image" style="background-image: url('Flux_Dev_A_compassionate_outdoor_scene_showing_volunteers_dist_3.jpg')"></div>
                        <div class="project-content">
                            <h3>Clothes for Those in Need</h3>
                            <p>Collecting, sorting, and distributing clothing to vulnerable populations. We ensure dignity and warmth for those who need it most, especially during harsh weather conditions.</p>
                        </div>
                    </div>
                    
                    <div class="project-card scale-in stagger-4">
                        <div class="project-image" style="background-image: url('https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80')"></div>
                        <div class="project-content">
                            <h3>Earth Unity</h3>
                            <p>Environmental conservation initiatives including tree plantation drives, waste management programs, and community education about sustainable living practices.</p>
                        </div>
                    </div>
                `;
                return;
            }

            projects.forEach((project, index) => {
                const projectCard = document.createElement('div');
                projectCard.className = `project-card scale-in stagger-${(index % 4) + 1} visible`;
                projectCard.style.opacity = '1';
                projectCard.style.transform = 'translateY(0) scale(1)';
                projectCard.innerHTML = `
                    <div class="project-image" style="background-image: url('${project.image || 'https://images.unsplash.com/photo-1593113598332-cd288d649433?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'}')"></div>
                    <div class="project-content">
                        <h3>${project.title}</h3>
                        <p>${project.description}</p>
                    </div>
                `;
                container.appendChild(projectCard);
            });
        }

        // Load events from Firebase
        async function loadEvents() {
            try {
                let snapshot;
                try {
                    snapshot = await db.collection('events').orderBy('date').get();
                } catch (orderError) {
                    // If orderBy fails, try without it
                    try {
                        snapshot = await db.collection('events').get();
                    } catch (permissionError) {
                        console.error('Permission denied for events collection. Please check Firebase security rules.');
                        events = [];
                        displayEvents();
                        return;
                    }
                }
                events = [];
                snapshot.forEach(doc => {
                    events.push({ id: doc.id, ...doc.data() });
                });
                displayEvents();
            } catch (error) {
                console.error('Error loading events:', error);
                events = [];
                displayEvents();
            }
        }

        // Display events
        function displayEvents() {
            const container = document.getElementById('eventsContainer');
            if (!container) {
                console.error('eventsContainer element not found!');
                return;
            }
            container.innerHTML = '';

            if (events.length === 0) {
                // Show default events if no data from Firebase
                container.innerHTML = `
                    <div class="event-card scale-in stagger-1">
                        <div class="event-image" style="background-image: url('https://images.unsplash.com/photo-1559027615-cd4628902d4a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80')"></div>
                        <div class="event-content">
                            <div class="event-date">March 15, 2024</div>
                            <h3>Community Clean-up Drive</h3>
                            <p>Join us for a city-wide cleaning initiative to make our neighborhoods cleaner and greener.</p>
                            <p><i class="fas fa-map-marker-alt" style="color: #e74c3c; margin-right: 0.5rem;"></i><strong>Location:</strong> Community Center, Pune</p>
                        </div>
                    </div>
                    
                    <div class="event-card scale-in stagger-2">
                        <div class="event-image" style="background-image: url('https://images.unsplash.com/photo-1593113598332-cd288d649433?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80')"></div>
                        <div class="event-content">
                            <div class="event-date">April 22, 2024</div>
                            <h3>Earth Day Celebration</h3>
                            <p>Celebrating our planet with tree plantation, environmental awareness sessions, and eco-friendly workshops.</p>
                            <p><i class="fas fa-map-marker-alt" style="color: #e74c3c; margin-right: 0.5rem;"></i><strong>Location:</strong> Green Park, Pune</p>
                        </div>
                    </div>
                    
                    <div class="event-card scale-in stagger-3">
                        <div class="event-image" style="background-image: url('https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80')"></div>
                        <div class="event-content">
                            <div class="event-date">May 10, 2024</div>
                            <h3>Annual Fundraising Gala</h3>
                            <p>An evening of celebration, recognition, and fundraising to support our ongoing community initiatives.</p>
                            <p><i class="fas fa-map-marker-alt" style="color: #e74c3c; margin-right: 0.5rem;"></i><strong>Location:</strong> Hotel Grand, Pune</p>
                        </div>
                    </div>
                `;
                return;
            }

            events.forEach((event, index) => {
                const eventCard = document.createElement('div');
                eventCard.className = `event-card scale-in stagger-${(index % 3) + 1} visible`;
                eventCard.style.opacity = '1';
                eventCard.style.transform = 'translateY(0) scale(1)';
                eventCard.innerHTML = `
                    <div class="event-image" style="background-image: url('${event.image || 'https://images.unsplash.com/photo-1559027615-cd4628902d4a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'}')"></div>
                    <div class="event-content">
                        <div class="event-date">${event.date}</div>
                        <h3>${event.title}</h3>
                        <p>${event.description}</p>
                        ${event.location ? `<p><i class="fas fa-map-marker-alt" style="color: #e74c3c; margin-right: 0.5rem;"></i><strong>Location:</strong> ${event.location}</p>` : ''}
                    </div>
                `;
                container.appendChild(eventCard);
            });
        }

        // Load products from Firebase
        async function loadProducts() {
            try {
                let snapshot;
                try {
                    snapshot = await db.collection('products').orderBy('order').get();
                } catch (orderError) {
                    // If orderBy fails, try without it
                    try {
                        snapshot = await db.collection('products').get();
                    } catch (permissionError) {
                        console.error('Permission denied for products collection. Please check Firebase security rules.');
                        products = [];
                        displayProducts();
                        return;
                    }
                }
                products = [];
                snapshot.forEach(doc => {
                    products.push({ id: doc.id, ...doc.data() });
                });
                displayProducts();
            } catch (error) {
                console.error('Error loading products:', error);
                products = [];
                displayProducts();
            }
        }

        // Display products
        function displayProducts() {
            const container = document.getElementById('productsContainer');
            if (!container) {
                console.error('productsContainer element not found!');
                return;
            }
            container.innerHTML = '';

            if (products.length === 0) {
                // Show default products if no data from Firebase
                const defaultProducts = [
                    { name: 'Eco-Friendly Jute Bags', description: 'Durable and sustainable jute bags perfect for shopping and daily use. Help reduce plastic waste.', price: 150, image: 'https://images.unsplash.com/photo-1553062407-98eeb64c6a62?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80' },
                    { name: 'Comfortable Dog Mats', description: 'Soft and washable mats for your furry friends. Made from recycled materials with love.', price: 300, image: 'https://images.unsplash.com/photo-1601758228041-f3b2795255f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80' },
                    { name: 'Bed Corner Mats', description: 'Stylish and functional corner mats that add comfort and elegance to your bedroom.', price: 250, image: 'https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80' },
                    { name: 'Organic Cotton Tote', description: 'Premium organic cotton tote bags with beautiful prints. Perfect for conscious consumers.', price: 200, image: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80' }
                ];

                defaultProducts.forEach((product, index) => {
                    const productCard = document.createElement('div');
                    productCard.className = 'product-card fade-in visible';
                    productCard.style.opacity = '1';
                    productCard.style.transform = 'translateY(0)';
                    productCard.innerHTML = `
                        <div class="product-image" style="background-image: url('${product.image}')"></div>
                        <div class="product-content">
                            <h3>${product.name}</h3>
                            <p>${product.description}</p>
                            <div class="product-price">₹${product.price}</div>
                            <button class="btn btn-primary order-btn" data-product-name="${product.name}" data-product-price="${product.price}">Order Now</button>
                        </div>
                    `;
                    container.appendChild(productCard);
                });
                
                // Add event listeners to default product buttons
                attachOrderButtonListeners();
                return;
            }

            products.forEach((product, index) => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card fade-in visible';
                productCard.style.opacity = '1';
                productCard.style.transform = 'translateY(0)';
                productCard.innerHTML = `
                    <div class="product-image" style="background-image: url('${product.image || 'https://images.unsplash.com/photo-1553062407-98eeb64c6a62?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'}')"></div>
                    <div class="product-content">
                        <h3>${product.name}</h3>
                        <p>${product.description}</p>
                        <div class="product-price">₹${product.price}</div>
                        <button class="btn btn-primary order-btn" data-product-name="${product.name}" data-product-price="${product.price}">Order Now</button>
                    </div>
                `;
                container.appendChild(productCard);
            });
            
            // Add event listeners to all order buttons
            attachOrderButtonListeners();
        }

        // Attach event listeners to order buttons
        function attachOrderButtonListeners() {
            document.querySelectorAll('.order-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const productName = this.getAttribute('data-product-name');
                    const productPrice = parseInt(this.getAttribute('data-product-price'));
                    console.log('Order button clicked:', productName, productPrice); // Debug log
                    orderProduct(productName, productPrice);
                });
            });
        }

        // Initialize website with Firebase data
        async function initializeWebsite() {
            await loadWebsiteSettings();
            await loadProjects();
            await loadEvents();
            await loadProducts();
        }

        // Volunteer form submission with Firebase
        document.getElementById('volunteerForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const data = {
                name: formData.get('name'),
                email: formData.get('email'),
                phone: formData.get('phone'),
                interest: formData.get('interest'),
                availability: formData.get('availability'),
                message: formData.get('message'),
                timestamp: firebase.firestore.FieldValue.serverTimestamp()
            };
            
            try {
                await db.collection('volunteers').add(data);
                alert('Thank you for your interest in volunteering! We will contact you soon.');
                this.reset();
            } catch (error) {
                console.error('Error submitting volunteer form:', error);
                alert('There was an error submitting your application. Please try again.');
            }
        });

        // Contact form submission with Firebase
        document.getElementById('contactForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const data = {
                name: formData.get('name'),
                email: formData.get('email'),
                subject: formData.get('subject'),
                message: formData.get('message'),
                timestamp: firebase.firestore.FieldValue.serverTimestamp()
            };
            
            try {
                await db.collection('contact_messages').add(data);
                alert('Thank you for your message! We will get back to you within 24 hours.');
                this.reset();
            } catch (error) {
                console.error('Error submitting contact form:', error);
                alert('There was an error sending your message. Please try again.');
            }
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Navbar background on scroll
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('.navbar');
            if (window.scrollY > 100) {
                navbar.style.background = 'rgba(255, 255, 255, 0.98)';
                navbar.style.boxShadow = '0 2px 20px rgba(0,0,0,0.15)';
            } else {
                navbar.style.background = 'rgba(255, 255, 255, 0.95)';
                navbar.style.boxShadow = '0 2px 20px rgba(0,0,0,0.1)';
            }
        });

        // Smooth scroll animations on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        // Observe all animation elements
        document.querySelectorAll('.fade-in, .fade-in-left, .fade-in-right, .scale-in, .slide-in-bottom').forEach(el => {
            observer.observe(el);
        });

        // Donation functions
        function donate(amount) {
            // In a real implementation, this would integrate with Razorpay
            const options = {
                key: 'rzp_test_1234567890', // Replace with your Razorpay key
                amount: amount * 100, // Amount in paise
                currency: 'INR',
                name: 'Lavanya Foundation',
                description: 'Donation for community initiatives',
                image: 'https://images.unsplash.com/photo-1559027615-cd4628902d4a?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80',
                handler: function(response) {
                    alert('Thank you for your generous donation! Your payment ID: ' + response.razorpay_payment_id);
                    // Send confirmation email or update database
                    console.log('Payment successful:', response);
                },
                prefill: {
                    name: '',
                    email: '',
                    contact: ''
                },
                theme: {
                    color: '#e74c3c'
                }
            };
            
            // For demo purposes, show alert
            alert(`Redirecting to payment gateway for ₹${amount} donation. In a real implementation, this would open Razorpay payment modal.`);
            
            // Uncomment below line when integrating with real Razorpay
            // const rzp = new Razorpay(options);
            // rzp.open();
        }

        function donateCustom() {
            const amount = document.getElementById('customAmount').value;
            if (amount && amount > 0) {
                donate(parseInt(amount));
            } else {
                alert('Please enter a valid amount');
            }
        }

        // Product ordering function with order management
        function orderProduct(productName, price) {
            showOrderModal(productName, price);
        }

        // Show order modal
        function showOrderModal(productName, price) {
            // Create modal HTML
            const modalHTML = `
                <div id="orderModal" class="order-modal" style="
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0, 0, 0, 0.7);
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    z-index: 1000;
                    animation: fadeIn 0.3s ease;
                ">
                    <div class="order-modal-content" style="
                        background: white;
                        padding: 2rem;
                        border-radius: 15px;
                        max-width: 500px;
                        width: 90%;
                        max-height: 90vh;
                        overflow-y: auto;
                        animation: slideInScale 0.3s ease;
                        box-shadow: 0 20px 60px rgba(0,0,0,0.3);
                    ">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                            <h3 style="margin: 0; color: #2c3e50;">Order ${productName}</h3>
                            <button onclick="closeOrderModal()" style="
                                background: none;
                                border: none;
                                font-size: 1.5rem;
                                color: #666;
                                cursor: pointer;
                                padding: 0;
                                width: 30px;
                                height: 30px;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                            ">×</button>
                        </div>

                        <div style="background: #f8f9fa; padding: 1rem; border-radius: 10px; margin-bottom: 1.5rem;">
                            <h4 style="margin: 0 0 0.5rem 0; color: #2c3e50;">${productName}</h4>
                            <p style="margin: 0; font-size: 1.2rem; color: #e74c3c; font-weight: bold;">₹${price}</p>
                        </div>

                        <form id="orderForm">
                            <div class="form-group" style="margin-bottom: 1rem;">
                                <label for="customerName" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #2c3e50;">Full Name *</label>
                                <input type="text" id="customerName" name="customerName" required style="
                                    width: 100%;
                                    padding: 0.8rem;
                                    border: 2px solid #ddd;
                                    border-radius: 8px;
                                    font-size: 1rem;
                                    transition: border-color 0.3s ease;
                                    box-sizing: border-box;
                                " onfocus="this.style.borderColor='#e74c3c'" onblur="this.style.borderColor='#ddd'">
                            </div>

                            <div class="form-group" style="margin-bottom: 1rem;">
                                <label for="customerEmail" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #2c3e50;">Email Address *</label>
                                <input type="email" id="customerEmail" name="customerEmail" required style="
                                    width: 100%;
                                    padding: 0.8rem;
                                    border: 2px solid #ddd;
                                    border-radius: 8px;
                                    font-size: 1rem;
                                    transition: border-color 0.3s ease;
                                    box-sizing: border-box;
                                " onfocus="this.style.borderColor='#e74c3c'" onblur="this.style.borderColor='#ddd'">
                            </div>

                            <div class="form-group" style="margin-bottom: 1rem;">
                                <label for="customerPhone" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #2c3e50;">Phone Number *</label>
                                <input type="tel" id="customerPhone" name="customerPhone" required style="
                                    width: 100%;
                                    padding: 0.8rem;
                                    border: 2px solid #ddd;
                                    border-radius: 8px;
                                    font-size: 1rem;
                                    transition: border-color 0.3s ease;
                                    box-sizing: border-box;
                                " onfocus="this.style.borderColor='#e74c3c'" onblur="this.style.borderColor='#ddd'">
                            </div>

                            <div class="form-group" style="margin-bottom: 1rem;">
                                <label for="quantity" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #2c3e50;">Quantity *</label>
                                <input type="number" id="quantity" name="quantity" min="1" value="1" required style="
                                    width: 100%;
                                    padding: 0.8rem;
                                    border: 2px solid #ddd;
                                    border-radius: 8px;
                                    font-size: 1rem;
                                    transition: border-color 0.3s ease;
                                    box-sizing: border-box;
                                " onfocus="this.style.borderColor='#e74c3c'" onblur="this.style.borderColor='#ddd'" onchange="updateOrderTotal(${price})">
                            </div>

                            <div class="form-group" style="margin-bottom: 1rem;">
                                <label for="shippingAddress" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #2c3e50;">Shipping Address *</label>
                                <textarea id="shippingAddress" name="shippingAddress" rows="3" required style="
                                    width: 100%;
                                    padding: 0.8rem;
                                    border: 2px solid #ddd;
                                    border-radius: 8px;
                                    font-size: 1rem;
                                    transition: border-color 0.3s ease;
                                    box-sizing: border-box;
                                    resize: vertical;
                                " onfocus="this.style.borderColor='#e74c3c'" onblur="this.style.borderColor='#ddd'" placeholder="Enter your complete shipping address..."></textarea>
                            </div>

                            <div class="form-group" style="margin-bottom: 1.5rem;">
                                <label for="orderNotes" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #2c3e50;">Additional Notes (Optional)</label>
                                <textarea id="orderNotes" name="orderNotes" rows="2" style="
                                    width: 100%;
                                    padding: 0.8rem;
                                    border: 2px solid #ddd;
                                    border-radius: 8px;
                                    font-size: 1rem;
                                    transition: border-color 0.3s ease;
                                    box-sizing: border-box;
                                    resize: vertical;
                                " onfocus="this.style.borderColor='#e74c3c'" onblur="this.style.borderColor='#ddd'" placeholder="Any special requirements or instructions..."></textarea>
                            </div>

                            <div style="background: #f8f9fa; padding: 1rem; border-radius: 10px; margin-bottom: 1.5rem;">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <span style="font-weight: 500; color: #2c3e50;">Total Amount:</span>
                                    <span id="orderTotal" style="font-size: 1.2rem; font-weight: bold; color: #e74c3c;">₹${price}</span>
                                </div>
                                <small style="color: #666; display: block; margin-top: 0.5rem;">
                                    <i class="fas fa-info-circle"></i> Shipping charges will be calculated based on location
                                </small>
                            </div>

                            <div style="display: flex; gap: 1rem; justify-content: flex-end;">
                                <button type="button" onclick="closeOrderModal()" style="
                                    padding: 0.8rem 1.5rem;
                                    border: 2px solid #ddd;
                                    background: white;
                                    color: #666;
                                    border-radius: 8px;
                                    cursor: pointer;
                                    font-size: 1rem;
                                    transition: all 0.3s ease;
                                " onmouseover="this.style.borderColor='#999'; this.style.color='#333'" onmouseout="this.style.borderColor='#ddd'; this.style.color='#666'">Cancel</button>
                                
                                <button type="submit" style="
                                    padding: 0.8rem 1.5rem;
                                    border: none;
                                    background: #e74c3c;
                                    color: white;
                                    border-radius: 8px;
                                    cursor: pointer;
                                    font-size: 1rem;
                                    transition: background 0.3s ease;
                                " onmouseover="this.style.background='#c0392b'" onmouseout="this.style.background='#e74c3c'">
                                    <i class="fas fa-shopping-cart"></i> Place Order
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <style>
                    @keyframes fadeIn {
                        from { opacity: 0; }
                        to { opacity: 1; }
                    }
                    
                    @keyframes fadeOut {
                        from { opacity: 1; }
                        to { opacity: 0; }
                    }
                    
                    @keyframes slideInScale {
                        from { 
                            opacity: 0;
                            transform: translateY(-30px) scale(0.9);
                        }
                        to { 
                            opacity: 1;
                            transform: translateY(0) scale(1);
                        }
                    }
                </style>
            `;

            // Add modal to body
            document.body.insertAdjacentHTML('beforeend', modalHTML);

            // Handle form submission
            document.getElementById('orderForm').addEventListener('submit', function(e) {
                e.preventDefault();
                submitOrder(productName, price);
            });
        }

        // Update order total when quantity changes
        function updateOrderTotal(unitPrice) {
            const quantity = document.getElementById('quantity').value;
            const total = unitPrice * quantity;
            document.getElementById('orderTotal').textContent = `₹${total}`;
        }

        // Close order modal
        function closeOrderModal() {
            const modal = document.getElementById('orderModal');
            if (modal) {
                modal.style.animation = 'fadeOut 0.3s ease';
                setTimeout(() => {
                    modal.remove();
                }, 300);
            }
        }

        // Submit order to Firebase
        async function submitOrder(productName, unitPrice) {
            const form = document.getElementById('orderForm');
            const formData = new FormData(form);
            const quantity = parseInt(formData.get('quantity'));
            const totalAmount = unitPrice * quantity;
            
            const orderData = {
                productName: productName,
                unitPrice: unitPrice,
                quantity: quantity,
                totalAmount: totalAmount,
                customerName: formData.get('customerName'),
                customerEmail: formData.get('customerEmail'),
                customerPhone: formData.get('customerPhone'),
                shippingAddress: formData.get('shippingAddress'),
                orderNotes: formData.get('orderNotes') || '',
                orderStatus: 'pending',
                orderDate: firebase.firestore.FieldValue.serverTimestamp(),
                orderNumber: generateOrderNumber()
            };

            try {
                const docRef = await db.collection('product_orders').add(orderData);
                
                // Show success message
                closeOrderModal();
                showOrderConfirmation(orderData.orderNumber, totalAmount);
                
                // Send confirmation email (in real implementation)
                console.log('Order placed successfully:', docRef.id);
                
            } catch (error) {
                console.error('Error placing order:', error);
                alert('There was an error placing your order. Please try again or contact us directly.');
            }
        }

        // Generate unique order number
        function generateOrderNumber() {
            const timestamp = Date.now().toString();
            const random = Math.floor(Math.random() * 1000).toString().padStart(3, '0');
            return `ORD${timestamp.slice(-6)}${random}`;
        }

        // Show order confirmation
        function showOrderConfirmation(orderNumber, totalAmount) {
            const confirmationHTML = `
                <div id="orderConfirmation" class="order-modal" style="
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0, 0, 0, 0.7);
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    z-index: 1000;
                    animation: fadeIn 0.3s ease;
                ">
                    <div class="order-modal-content" style="
                        background: white;
                        padding: 2rem;
                        border-radius: 15px;
                        max-width: 500px;
                        width: 90%;
                        text-align: center;
                        animation: slideInScale 0.3s ease;
                        box-shadow: 0 20px 60px rgba(0,0,0,0.3);
                    ">
                        <div style="color: #27ae60; font-size: 3rem; margin-bottom: 1rem;">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        
                        <h3 style="color: #2c3e50; margin-bottom: 1rem;">Order Placed Successfully!</h3>
                        
                        <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 10px; margin-bottom: 1.5rem;">
                            <p style="margin: 0 0 0.5rem 0; color: #666;"><strong>Order Number:</strong></p>
                            <p style="margin: 0 0 1rem 0; font-size: 1.2rem; font-weight: bold; color: #2c3e50;">${orderNumber}</p>
                            <p style="margin: 0 0 0.5rem 0; color: #666;"><strong>Total Amount:</strong></p>
                            <p style="margin: 0; font-size: 1.2rem; font-weight: bold; color: #e74c3c;">₹${totalAmount}</p>
                        </div>
                        
                        <p style="color: #666; margin-bottom: 1.5rem; line-height: 1.5;">
                            Thank you for your order! We will contact you within 24 hours to confirm your order and provide shipping details.
                        </p>
                        
                        <div style="display: flex; gap: 1rem; justify-content: center;">
                            <button onclick="closeOrderConfirmation()" style="
                                padding: 0.8rem 1.5rem;
                                border: none;
                                background: #e74c3c;
                                color: white;
                                border-radius: 8px;
                                cursor: pointer;
                                font-size: 1rem;
                                transition: background 0.3s ease;
                            " onmouseover="this.style.background='#c0392b'" onmouseout="this.style.background='#e74c3c'">
                                Continue Shopping
                            </button>
                            
                            <button onclick="contactWhatsApp('${orderNumber}')" style="
                                padding: 0.8rem 1.5rem;
                                border: 2px solid #25d366;
                                background: white;
                                color: #25d366;
                                border-radius: 8px;
                                cursor: pointer;
                                font-size: 1rem;
                                transition: all 0.3s ease;
                            " onmouseover="this.style.background='#25d366'; this.style.color='white'" onmouseout="this.style.background='white'; this.style.color='#25d366'">
                                <i class="fab fa-whatsapp"></i> Contact on WhatsApp
                            </button>
                        </div>
                    </div>
                </div>
            `;

            document.body.insertAdjacentHTML('beforeend', confirmationHTML);
        }

        // Close order confirmation
        function closeOrderConfirmation() {
            const confirmation = document.getElementById('orderConfirmation');
            if (confirmation) {
                confirmation.style.animation = 'fadeOut 0.3s ease';
                setTimeout(() => {
                    confirmation.remove();
                }, 300);
            }
        }

        // Contact via WhatsApp with order details
        function contactWhatsApp(orderNumber) {
            const message = `Hi! I just placed an order with order number: ${orderNumber}. I would like to get more details about the shipping and delivery.`;
            const whatsappUrl = `https://wa.me/919876543210?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
            closeOrderConfirmation();
        }

        // Mobile menu toggle (improved implementation)
        document.querySelector('.mobile-menu').addEventListener('click', function() {
            const navLinks = document.querySelector('.nav-links');
            navLinks.classList.toggle('mobile-active');
            
            // Change hamburger icon to X when open
            const icon = this.querySelector('i');
            if (navLinks.classList.contains('mobile-active')) {
                icon.className = 'fas fa-times';
            } else {
                icon.className = 'fas fa-bars';
            }
        });

        // Close mobile menu when clicking on a link
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', function() {
                const navLinks = document.querySelector('.nav-links');
                const mobileMenuIcon = document.querySelector('.mobile-menu i');
                navLinks.classList.remove('mobile-active');
                mobileMenuIcon.className = 'fas fa-bars';
            });
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(e) {
            const navLinks = document.querySelector('.nav-links');
            const mobileMenu = document.querySelector('.mobile-menu');
            
            if (!navLinks.contains(e.target) && !mobileMenu.contains(e.target)) {
                navLinks.classList.remove('mobile-active');
                document.querySelector('.mobile-menu i').className = 'fas fa-bars';
            }
        });

        // Add active class to navigation items based on scroll position
        window.addEventListener('scroll', function() {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('.nav-links a');
            
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (window.scrollY >= (sectionTop - 200)) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('active');
                }
            });
        });

        // Add some interactive elements
        document.querySelectorAll('.project-card, .event-card, .product-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-10px)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });

        // Initialize page with Firebase data
        document.addEventListener('DOMContentLoaded', function() {
            initializeWebsite().then(() => {
                // Add initial animations after content is loaded
                setTimeout(() => {
                    document.querySelectorAll('.fade-in, .scale-in, .project-card, .event-card, .product-card').forEach((el, index) => {
                        setTimeout(() => {
                            el.classList.add('visible');
                            el.style.opacity = '1';
                            el.style.transform = 'translateY(0) translateX(0) scale(1)';
                        }, index * 50);
                    });
                }, 500);
            }).catch(error => {
                console.error('Error during Firebase initialization:', error);
            });
        });
    </script>
</body>
</html>